Soumettre les informations au serveur

Pour cela deux méthodes sont possibles :

1)Effectuer un appel AJAXavec jQuery :

$.post("http://www.votredomaine.com/position.php",{lat:position.coords.latitude,lng:position.coords.longitude});
Cette méthode envoie en POST les résultats obtenus dans l'objet position.



2) Se servir de champs cachés :

On place, dans le code HTML, des champs cachées pour la latitude et la longitude

<input type="hidden" name="lat" id="lat" /> 
<input type="hidden" name="lng" id="lng" />

Dans le script jQuery, on attribue la valeur de la latitude et de la longitude dans les champs correspondants.

$("#lat").val(position.coords.latitude); 
$("#lng").val(position.coords.longitude);
Puis l'on effectue la requête en PHP pour envoyer les données sur le serveur. Les données se retrouvent en entrée dans les tableaux $_POST ou $_GET selon la méthode d'envoi, ou plus simplement $_REQUEST.

echo $_REQUEST['lat'];
echo $_REQUEST['lng'];